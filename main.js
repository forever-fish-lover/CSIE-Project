(()=>{"use strict";class t{constructor(t){this.name=t,this.tasks=[]}addTask(t){this.tasks.push(t)}deleteTask(t){this.tasks=this.tasks.filter((e=>e.id!==t))}getSortedTasks(){const t={High:1,Medium:2,Low:3};return[...this.tasks].sort(((e,n)=>t[e.priority]-t[n.priority]))}}let e={},n="";function o(){const t={projects:Object.fromEntries(Object.entries(e).map((([t,e])=>[t,{name:e.name,tasks:e.tasks}]))),currentProjectName:n};localStorage.setItem("todoData",JSON.stringify(t))}function c(){document.getElementById("currentProjectName").textContent=n?`Current Project: ${n}`:"No Project Selected"}function s(){const t=document.getElementById("projectDropdown");t.innerHTML="";for(const n in e){const e=document.createElement("option");e.value=n,e.textContent=n,t.appendChild(e)}t.value=n}function r(){const t=document.getElementById("taskList");if(t.innerHTML="",!n||!e[n])return;const c=e[n];c.getSortedTasks().forEach((e=>{const n=document.createElement("li");n.className=`priority-${e.priority.toLowerCase()}`;const s=document.createElement("span");s.textContent=e.title,s.className=e.completed?"completed":"",s.onclick=()=>{e.completed=!e.completed,r(),o()};const a=document.createElement("div");a.textContent=e.description;const i=document.createElement("div");i.textContent=`Due: ${e.dueDate}`;const d=document.createElement("div");d.textContent=`Priority: ${e.priority}`;const l=document.createElement("button");l.textContent="Delete",l.onclick=()=>{c.deleteTask(e.id),r(),o()},n.appendChild(s),n.appendChild(a),n.appendChild(i),n.appendChild(d),n.appendChild(l),t.appendChild(n)}))}document.addEventListener("DOMContentLoaded",(()=>{!function(){const o=JSON.parse(localStorage.getItem("todoData"));if(o){e={};for(const n in o.projects){const c=o.projects[n],s=new t(c.name);s.tasks=c.tasks,e[n]=s}n=o.currentProjectName||""}}(),s(),r(),c(),document.getElementById("projectDropdown").onchange=t=>{return e=t.target.value,n=e,s(),r(),c(),void o();var e}}))})();